1. 2d-2d：
（1） 问题描述：
a. 一只若干个空间点的2d2d匹配点，估计相机的位姿，以以及空间点的具体坐标。
b. 2d2d点：可以是图像坐标像素位置或者归一化平面坐标。两者之间差一个内参矩阵，内参矩阵可视为已知的。
c. 八对匹配点可以计算
（2） 解决方法：
对级几何和三角测量。
（3） 对级几何：
a. 由外参得出两个2d点与世界点的关系式。
b. 由a得出两个2d点归一化坐标关系式。
c. 推导对及约束关系式
d. 通过八点法计算出计算本质矩阵、由本质矩阵可以计算基础矩阵和单应矩阵。
e. 本质矩阵通过SVD分解得到R，t。
（4） 三角测量：
在求出R，t后，由已知的两个2d点坐标可以求出2d点的深度，进而求出2d点的世界坐标点。
（5）缺陷：
由三角测量虽然可以求出深度值，但是没有深度值的单位，所以还是不能确定具体2d点对应的世界点坐标。

2. 3d-2d（PnP）：
（1） 问题描述：
PnP是求解3d到2d点对运动的方法，也就是知道n个3d空间点及其投影位置，如何求解相机位姿。
这个投影可以是像素坐标或者归一化坐标，因为默认内参是已知的。

（2） 解决方法：
a. 线性求解法：P3P，直线线性变换（DLT），UPnP等。
b. Bundle Adjustment。通常用于优化已经求出来的R，t。

（3） 直线线性变换（DLT）：
a. 将R，t表示为T。
b. 得出世界坐标与对应点的关系。进而转化为一个12维的线性方程组。
c. 使用6个点，直接求解线性方程组。
d. 因为直接求解得到的R可能不满足SO(3)，需要QR分解。

（4） P3P：
a. 利用相机模型先求出3个点的相机坐标系下坐标，转化为3d-3d问题，然后利用ICP求解。
b. 三对匹配点就可以求出。

（5）Bundle Adjustment：
a. 测得的像素坐标减去对应点投影后的坐标，然后利用最小二乘法，不断优化位姿和世界点位置，进而求解R，t以及世界点坐标。
b. 关键是要求出差值对相机位姿和世界点的导数，也就是雅克比矩阵，然后高斯牛顿法或者其他方法求解最小二乘问题。
c. 雅克比矩阵可以通过解析的方式求出。

3. 3d-3d：
（1） 问题描述：
3d-3d是若干个3d匹配点，可以使同一个世界点在不同rgbd图像坐标，也可以是世界点和相机坐标系下坐标。
ICP是迭代最近点求解，其不需要相机模型。
（2） ICP问题的解决方法（多点）：
a.线性求解法：SVD，奇异矩阵分解。
b.非线性优化：类似BA。
（3） SVD法：
a. 利用像素差值构建最小二乘问题。
b. 构建去质心相乘矩阵。
c. 利用SVD分解，求出R。
d. 再求出t。
（4） 非线性优化方法（多点）：
与svd类似，先利用像素差值构建最小二乘问题，然后利用类似BA方法，求出雅克比矩阵，最后在利用高斯牛顿等方法求解。
